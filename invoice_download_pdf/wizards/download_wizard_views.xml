<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="view_account_invoice_download_wizard_form" model="ir.ui.view">
        <field name="name">account.invoice.download.wizard.form</field>
        <field name="model">account.invoice.download.wizard</field>
        <field name="arch" type="xml">
            <form string="Descargar Facturas Individuales">
                <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="action_download_all" 
                                string="Descargar Todas" 
                                type="object"
                                class="oe_stat_button"
                                icon="fa-download"/>
                    </div>
                    
                    <p class="alert alert-info" role="alert">
                        Seleccione cada factura para descargar su PDF individualmente, o use el bot√≥n "Descargar Todas" para iniciar la descarga de todos los PDFs.
                    </p>
                    
                    <field name="download_line_ids" nolabel="1">
                        <tree decoration-danger="state == 'error'">
                            <field name="name"/>
                            <field name="partner_id"/>
                            <field name="invoice_date"/>
                            <field name="amount_total" sum="Total"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="state" invisible="1"/>
                            <field name="notes" invisible="1"/>
                            <button name="action_download" 
                                    string="Descargar PDF" 
                                    type="object" 
                                    class="oe_highlight" 
                                    icon="fa-download"
                                    attrs="{'invisible': [('state', '=', 'error')]}"/>
                        </tree>
                    </field>
                </sheet>
                <footer>
                    <button special="cancel" string="Cerrar" class="btn-secondary"/>
                </footer>
            </form>
        </field>
    </record>
</odoo>

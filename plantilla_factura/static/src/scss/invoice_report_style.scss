/**
 * ============================================================================
 * ESTILOS PERSONALIZADOS PARA FACTURAS - ECOCAUCHO
 * ============================================================================
 * 
 * Este archivo define los estilos CSS que se aplican al PDF de facturas
 * generado con la plantilla personalizada de EcoCaucho.
 * 
 * Objetivos del diseño:
 * - Aprovechamiento eficiente del espacio en papel A4
 * - Jerarquía visual clara (títulos, subtítulos, contenido)
 * - Agrupación visual de información relacionada
 * - Legibilidad óptima en impresión y pantalla
 * 
 * Nota: Estos estilos solo se aplican al reporte "Factura EcoCaucho",
 * no afectan al reporte estándar de Odoo.
 * ============================================================================
 */

/* =========================================================================
   ESTILOS GENERALES DE LA PÁGINA
   ========================================================================= */

.invoice-page {
    font-family: 'Helvetica', 'Arial', sans-serif;
    font-size: 10pt;
    line-height: 1.4;
    color: #333;
    
    /**
     * Mejorar renderizado de fuentes en PDFs
     * -webkit-font-smoothing ayuda a que el texto se vea más nítido
     */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/**
 * Prevenir saltos de página indeseados
 * Muy importante para mantener la coherencia visual del documento
 */
.page-break-inside-avoid {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
}

/* =========================================================================
   CABECERA DE LA FACTURA
   ========================================================================= */

.invoice-header {
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid #dee2e6;
}

/**
 * Título principal de la factura
 * Ejemplo: "Factura INV/2024/0001"
 */
.invoice-title {
    font-size: 24pt;
    font-weight: 700;
    color: #2c3e50;
    margin: 0;
    padding: 0;
    line-height: 1.2;
}

/**
 * Fecha de emisión de la factura
 * Se muestra justo debajo del título
 */
.invoice-date {
    font-size: 11pt;
    color: #7f8c8d;
    margin-top: 5px;
}

/* =========================================================================
   RECUADRO DE REFERENCIA DEL CLIENTE
   ========================================================================= */

/**
 * Contenedor destacado para la referencia del cliente
 * Aparece en la esquina superior derecha de la factura
 */
.client-ref-box {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    padding: 12px;
    text-align: center;
}

.client-ref-box .ref-label {
    font-size: 9pt;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: #6c757d;
    margin-bottom: 5px;
}

.client-ref-box .ref-value {
    font-size: 16pt;
    font-weight: 600;
    color: #2c3e50;
    margin: 0;
}

/* =========================================================================
   CAJAS DE INFORMACIÓN (CLIENTE Y FACTURA)
   ========================================================================= */

/**
 * Contenedor general para bloques de información
 * Se usa tanto para datos del cliente como para datos de la factura
 */
.invoice-box {
    background-color: #ffffff;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    padding: 15px;
    min-height: 150px;
}

/**
 * Etiquetas de campos dentro de las cajas de información
 * Ejemplo: "NIF:", "Fecha Factura:", etc.
 */
.field-label {
    font-weight: 600;
    color: #495057;
    width: 45%;
}

.field-value {
    color: #212529;
    width: 55%;
}

/**
 * Estilo específico para direcciones
 * Ajusta el espaciado de las líneas de dirección
 */
.invoice-box address {
    margin-bottom: 8px;
    line-height: 1.5;
}

/* =========================================================================
   AGRUPACIÓN POR PEDIDO
   ========================================================================= */

/**
 * Contenedor de cada grupo de pedido
 * Previene que se parta entre páginas para mantener cohesión
 */
.order-container {
    page-break-inside: avoid;
    margin-bottom: 25px;
}

/**
 * Cabecera de cada grupo de pedido
 * Muestra el número de pedido y referencia del cliente si existe
 */
.order-header {
    background-color: #6c757d;
    color: #ffffff;
    padding: 10px 15px;
    border-radius: 5px 5px 0 0;
    font-size: 11pt;
    font-weight: 600;
}

.order-ref-separator {
    margin: 0 10px;
    font-weight: 300;
}

.order-ref {
    font-weight: 400;
    font-style: italic;
}

/* =========================================================================
   TABLAS DE LÍNEAS DE FACTURA
   ========================================================================= */

/**
 * Estilo general de tablas
 * Todas las tablas de líneas usan estos estilos base
 */
.table {
    width: 100%;
    margin-bottom: 15px;
    border-collapse: collapse;
}

/**
 * Cabecera de tabla
 * Fondo gris claro para distinguir visualmente del contenido
 */
.table thead th {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    padding: 10px 8px;
    font-size: 10pt;
    font-weight: 600;
    color: #495057;
    text-align: left;
}

/**
 * Celdas del cuerpo de la tabla
 * Padding y bordes para legibilidad
 */
.table tbody td {
    border: 1px solid #dee2e6;
    padding: 8px;
    font-size: 9.5pt;
    vertical-align: top;
}

/**
 * Filas de sección (títulos dentro de la tabla)
 * Se usan para separar visualmente grupos de productos
 */
.table tbody tr.line-section td {
    background-color: #e9ecef;
    font-weight: 600;
    padding: 6px 8px;
}

/**
 * Filas de nota (comentarios dentro de la tabla)
 * Texto en cursiva para distinguirlas de productos
 */
.table tbody tr.line-note td {
    font-style: italic;
    color: #6c757d;
    background-color: #f8f9fa;
}

/**
 * Hover en filas de tabla (solo para vista en pantalla)
 * No afecta al PDF impreso pero mejora la experiencia en pantalla
 */
.table tbody tr:hover {
    background-color: #f1f3f5;
}

/* =========================================================================
   TABLA DE TOTALES
   ========================================================================= */

/**
 * Estilos específicos para la tabla de totales
 * Ubicada en la esquina inferior derecha de la factura
 */
.table-totals {
    width: 100%;
    margin-top: 20px;
}

.table-totals tbody td {
    border: none;
    border-bottom: 1px solid #dee2e6;
    padding: 8px 10px;
    font-size: 10pt;
}

/**
 * Fila del total final
 * Se destaca con borde superior más grueso y texto más grande
 */
.table-totals tbody tr.total-row td {
    border-top: 2px solid #343a40;
    padding-top: 12px;
    font-size: 12pt;
    font-weight: 700;
}

/* =========================================================================
   ALERTAS Y BLOQUES ESPECIALES
   ========================================================================= */

/**
 * Estilo para el bloque de instrucciones especiales
 * Usa el esquema de colores de Bootstrap para mantener consistencia
 */
.alert {
    padding: 12px 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    border-radius: 5px;
}

.alert-info {
    background-color: #d1ecf1;
    border-color: #bee5eb;
    color: #0c5460;
}

/* =========================================================================
   PIE DE PÁGINA Y OBSERVACIONES
   ========================================================================= */

/**
 * Bloque de observaciones/notas al final de la factura
 */
.narration-block {
    margin-top: 30px;
    padding-top: 15px;
    border-top: 1px solid #dee2e6;
    font-size: 9.5pt;
    line-height: 1.6;
}

/* =========================================================================
   UTILIDADES DE ALINEACIÓN Y ESPACIADO
   ========================================================================= */

.text-end {
    text-align: right !important;
}

.text-center {
    text-align: center !important;
}

.text-uppercase {
    text-transform: uppercase !important;
}

.mt-1 { margin-top: 5px !important; }
.mt-2 { margin-top: 10px !important; }
.mt-3 { margin-top: 15px !important; }
.mt-4 { margin-top: 20px !important; }

.mb-1 { margin-bottom: 5px !important; }
.mb-2 { margin-bottom: 10px !important; }
.mb-3 { margin-bottom: 15px !important; }
.mb-4 { margin-bottom: 20px !important; }

.p-2 { padding: 10px !important; }
.p-3 { padding: 15px !important; }

.pt-2 { padding-top: 10px !important; }
.pt-3 { padding-top: 15px !important; }

.pb-2 { padding-bottom: 10px !important; }
.pb-3 { padding-bottom: 15px !important; }

/* =========================================================================
   CLASES DE COLOR
   ========================================================================= */

.text-muted {
    color: #6c757d !important;
}

.text-primary {
    color: #007bff !important;
}

.text-success {
    color: #28a745 !important;
}

.text-danger {
    color: #dc3545 !important;
}

.text-warning {
    color: #ffc107 !important;
}

.bg-light {
    background-color: #f8f9fa !important;
}

.bg-secondary {
    background-color: #6c757d !important;
}

/* =========================================================================
   ESTILOS ESPECÍFICOS PARA IMPRESIÓN
   ========================================================================= */

/**
 * Media query para optimizar la impresión
 * Estos estilos solo se aplican cuando se imprime el documento
 */
@media print {
    /**
     * Forzar impresión en color de fondos
     * Por defecto, muchos navegadores eliminan fondos al imprimir
     */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /**
     * Prevenir saltos de página en lugares inconvenientes
     */
    .invoice-header,
    .invoice-box,
    .order-container {
        page-break-inside: avoid;
    }
    
    /**
     * Ocultar elementos que no deben imprimirse
     * (por si se añaden en el futuro)
     */
    .no-print {
        display: none !important;
    }
}

/* =========================================================================
   FIN DE ESTILOS
   ========================================================================= */
